<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="date" content="2025-10-01T22:09:21.152Z">
    <title>Access Control | Guide | @esri/hub.js</title>
    
    <meta name="description" content="A modular, high quality toolkit for working with ArcGIS Hub">
    
    <link rel="stylesheet" href="/hub.js/css/calcite-web.min.css">
    <link rel="stylesheet" href="/hub.js/css/style.css">
    
    
  </head>
  <body>
  <!-- Drawer -->
    <div class="drawer drawer-left js-drawer" data-drawer="top-nav" tabindex="0">
      <nav class="drawer-nav" role="navigation">
        <aside class="side-nav">
          <h2 class="side-nav-title">@esri/hub.js</h2>
          <a href="/hub.js/guides/" class="is-active side-nav-link">Guides</a>
          <a href="/hub.js/api/" class="side-nav-link">API Reference</a>
        </aside>
      </nav>
    </div>

    <div id="page" class="wrapper">
      <!-- Sample HTML -->
      <header class="top-nav">
        <div class="grid-container">
          <div class="column-24">
            <!-- desktop sized navigation -->
            <div class="tablet-hide">
              <!-- logo / home -->
              <a href="/hub.js/" class="top-nav-title">@esri/hub.js</a>
              <!-- primary navigation sections -->
              <nav class="top-nav-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/guides/" class="is-active top-nav-link">Guides</a>
                <a href="/hub.js/api/" class="top-nav-link">API Reference</a>
                <a href="https://github.com/Esri/hub.js" class="top-nav-link">GitHub</a>
              </nav>
            </div>

            <!-- tablet and mobile sized navigation -->
            <div class="tablet-show top-nav-flex">
              <!-- open primary navigation drawer -->
              <nav class="top-nav-flex-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/" class="icon-ui-menu top-nav-link js-drawer-toggle" data-drawer="top-nav"><span class="phone-hide">Menu</span></a>
              </nav>
              <!-- logo / home -->
              <header class="top-nav-flex-title">
                <a href="/hub.js/" class="top-nav-link">@esri/hub.js</a>
              </header>
            </div>
          </div>

        </div>
      </header>


      <main id="#skip-to-content">
        
  <div class="grid-container trailer-1 leader-1">
    <div class="column-6">
      <ul class="list-plain">
        
          <li>Intro</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/intro/overview/">Overview</a></li>
            
              <li><a href="/hub.js/guides/intro/getting-started/">Getting Started</a></li>
            
          </ul>
        
          <li>Class Api</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/classes/overview/">Overview</a></li>
            
              <li><a href="/hub.js/guides/classes/arcgiscontext/">Authentication</a></li>
            
              <li><a href="/hub.js/guides/classes/sites/">Sites (WIP)</a></li>
            
              <li><a href="/hub.js/guides/classes/pages/">Pages (WIP)</a></li>
            
              <li><a href="/hub.js/guides/classes/initiatives/">Initiatives (WIP)</a></li>
            
              <li><a href="/hub.js/guides/classes/projects/">Projects</a></li>
            
          </ul>
        
          <li>Functional Api</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/functional/overview/">Overview</a></li>
            
              <li><a href="/hub.js/guides/functional/authentication/">Authentication</a></li>
            
              <li><a href="/hub.js/guides/functional/hub-search/">Hub Search</a></li>
            
              <li><a href="/hub.js/guides/functional/utilities/">Utilities</a></li>
            
              <li><a href="/hub.js/guides/functional/discussions-v2/">Discussions v2</a></li>
            
              <li><a href="/hub.js/guides/functional/discussions/">Discussions</a></li>
            
              <li><a href="/hub.js/guides/functional/teams/">Teams</a></li>
            
              <li><a href="/hub.js/guides/functional/versioning/">Versioning</a></li>
            
          </ul>
        
          <li>Advanced</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/advanced/access-control/" class="is-active">Access Control</a></li>
            
              <li><a href="/hub.js/guides/advanced/entity-lifecycle/">Entity Lifecycle</a></li>
            
              <li><a href="/hub.js/guides/advanced/schema-versioning/">Schema Versioning</a></li>
            
              <li><a href="/hub.js/guides/advanced/permissions/">Permissions</a></li>
            
              <li><a href="/hub.js/guides/advanced/operation-stack/">OperationStack</a></li>
            
              <li><a href="/hub.js/guides/advanced/metrics/">Metrics</a></li>
            
              <li><a href="/hub.js/guides/advanced/queries-and-filters/">Queries & Filters</a></li>
            
              <li><a href="/hub.js/guides/advanced/catalog-collection/">Catalogs & Collections</a></li>
            
              <li><a href="/hub.js/guides/advanced/composing-workflows/">Composing Workflows</a></li>
            
          </ul>
        
          <li>Developers</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/developers/e2e-tests/">E2E Testing</a></li>
            
          </ul>
        
          <li>Legacy</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/legacy/content-search/">Search Service</a></li>
            
              <li><a href="/hub.js/guides/legacy/sites-and-pages/">Sites and Pages</a></li>
            
          </ul>
        
      </ul>
    </div>

    <div class="column-18">
      <div class="panel">
        <h2>Access Control in ArcGIS Hub</h2>
<p>ArcGIS Hub is a collaboration system, so determining what actions a user can take within a specific context is a common task, known as &quot;access control.&quot;</p>
<p>In Hub, access control is managed via <strong>Permissions</strong>.</p>
<p>There are five elements in the Permission system:</p>
<ul>
<li><strong>Permission Policies</strong> — business rules embedded in the system</li>
<li><strong>Entity Permission Policies</strong> — additional entity-specific rules that further limit access</li>
<li><strong>Entity Feature Flags</strong> — entity-specific means to disable a feature</li>
<li><strong>System Feature Flags</strong> — global overrides for specific permissions</li>
<li><strong>System Service Flags</strong> — globally disable a service to test graceful degradation UX</li>
</ul>
<p>For details, see the <a href="../permissions">Permissions Guide</a>.</p>
<h1>Desiging Permissions</h1>
<h2>Premium Features</h2>
<p>Work with a Product Engineer to choose a permission string, and add it to the <code>{Entity}BusinessRules.ts</code> module.</p>
<h2>Gated Releases</h2>
<p>The Hub System Permissions will have ArcGIS Online release permissions pre-defined. To setup your feature to automatically release with the platform release, add that permission to your permissions <code>dependencies</code> array. During development, leave in <code>availability: [&quot;qaext&quot;]</code> etc, but once dev complete, remove those</p>
<pre><code class="js">{
  <span class="hljs-attr">permission</span>: <span class="hljs-string">"hub:group:messaging"</span>,
  <span class="hljs-attr">dependencies</span>: [<span class="hljs-string">"hub:release:2026R1"</span>],
  <span class="hljs-attr">licenses</span>: [<span class="hljs-string">"hub-premium"</span>],
  <span class="hljs-attr">services</span>: [<span class="hljs-string">"portal"</span>]
}
</code></pre>
<p>With this in place, and merged, we can then use <code>?pe=hub:release:2026R1</code> to enable that whole set of features at once.</p>
<p>If your feature does not need to ship with a platform release, but also needs some additional time for docs, translations, customer outreach etc, we can also release on a future date. Coordinate with Product Engineers and Product Management to chose the date, and add it to your permission,</p>
<pre><code class="js">{
  <span class="hljs-attr">permission</span>: <span class="hljs-string">"hub:group:messaging"</span>,
  <span class="hljs-attr">releaseAfter</span>: <span class="hljs-string">"2025-10-25T17:00:00.000Z"</span>,
  <span class="hljs-attr">licenses</span>: [<span class="hljs-string">"hub-premium"</span>],
  <span class="hljs-attr">services</span>: [<span class="hljs-string">"portal"</span>]
}
</code></pre>
<p>While using dates is powerful, to preview the functionality in production, you would need to use <code>?pe=hub:group:messaging</code>. If there is a group of functionality being released on a specific date, create a system level permission (<code>hub:release:20251025</code>) and set that as a depenency for multiple permissions.</p>
<h2>Opt-In Previews</h2>
<p>In scenarios where we want to have a user &quot;opt-in&quot; followed by a general release, with an &quot;opt-out&quot;, followed by everyone being forced into the new behavior, please see the <a href="./permissions.md">Permissions</a> guide for details. This is complex, and requires a lot of change mangement, so this must be coordinated with Product Management.</p>
<h2>High-Level Model</h2>
<p>To determine if a user can take a specific action in a given context, the application calls <code>checkPermission(...): IPermissionAccessResponse</code>. The key property on the response is <code>.access: boolean</code>, but the response also includes information about all checks that were applied and the reason access was denied, enabling a variety of messages or behaviors.</p>
<p>The <code>checkPermission(...)</code> call considers:</p>
<ul>
<li>Status of any services the permission depends on</li>
<li>Availability checks (<code>alpha</code>, <code>beta</code>, <code>general</code>)</li>
<li>Environment checks (<code>devext</code>, <code>qaext</code>, <code>production</code>, <code>enterprise-sites</code>)</li>
<li>Release gating (to coordinate with a Platform release or a specific date)</li>
<li>Authentication status</li>
<li>Platform privileges</li>
<li>Whether the user is the owner of the entity</li>
<li>Whether the user has edit access to the entity</li>
<li>Entity-specific feature flags</li>
<li>System feature flags</li>
<li>Overrides passed into the app via query params (<code>pe=permission:to:enable</code> or <code>pd=permission:to:disable</code>)</li>
</ul>
<h2>General Logic (No Entity Provided)</h2>
<p><code>checkPermission(permission, context): IPermissionAccessResponse</code></p>
<ol>
<li>Is this a valid permission?</li>
<li>Is there a system policy defined for this permission?</li>
<li>Is there a system feature flag set for this permission?
<ul>
<li>Hold that flag value, overriding any set by the entity</li>
</ul>
</li>
<li>If a flag value is set and it's <code>false</code>:
<ul>
<li>Return <code>access: false, reason: &quot;disabled-by-&lt;entity|feature&gt;-flag&quot;</code></li>
</ul>
</li>
<li>If a flag value is set and it's <code>true</code>:
<ul>
<li>Run all checks except <code>availability</code>, <code>environment</code>, and <code>release gating</code></li>
</ul>
</li>
<li>If no flag is set, run all checks</li>
<li>Aggregate all policy checks to determine if access is granted</li>
<li>Return <code>IPermissionAccessResponse</code></li>
</ol>
<h2>General Logic (Entity Provided)</h2>
<p><code>checkPermission(permission, context, entity): IPermissionAccessResponse</code></p>
<ol>
<li>Is this a valid permission?</li>
<li>Is there a system policy defined for this permission?</li>
<li>If <code>.entityConfigurable: true</code> on the policy:
<ul>
<li>Does <code>entity.features</code> have a flag for this permission?
<ul>
<li>Hold that flag value</li>
</ul>
</li>
</ul>
</li>
<li>Is there a system feature flag set for this permission?
<ul>
<li>Hold that flag value, overriding any set by the entity</li>
</ul>
</li>
<li>If a flag value is set and it's <code>false</code>:
<ul>
<li>Return <code>access: false, reason: &quot;disabled-by-&lt;entity|feature&gt;-flag&quot;</code></li>
</ul>
</li>
<li>If a flag value is set and it's <code>true</code>:
<ul>
<li>Run all checks except <code>availability</code> and <code>environment</code></li>
</ul>
</li>
<li>If no flag is set, run all checks</li>
<li>Aggregate all policy checks to determine if access is granted</li>
<li>Is there an Entity Policy for this permission?
<ul>
<li>Run all Entity Policy checks</li>
<li>If no policy checks pass, access is denied</li>
</ul>
</li>
<li>Return <code>IPermissionAccessResponse</code></li>
</ol>
<h3>Developer Guidance</h3>
<p>As we build the next generation of ArcGIS Hub, we want behavior to be “configurable by default.” Design and build the UI layer by querying the Permissions subsystem, rather than implementing custom checks in-place. This enables the system to adapt to different licensing or packaging strategies simply by changing business rules, instead of making sweeping code changes.</p>
<h2>Overriding Permissions in Hub Applications</h2>
<p>To flex certain conditions in the application, Hub applications can be passed query params to enable or disable individual permissions. This is supported in both Ember and React applications. The host application is responsible for extracting the params, passing them into the <code>ArcGISContextManager</code>, and removing the params from the URI once processed.</p>
<h3>Enabling Permissions</h3>
<p>To enable a permission, pass <code>?pe=permission:to:enable</code>. This only overrides the <code>environment</code> and <code>availability</code> checks—useful for verifying behavior gated to QA on PROD before full release. This cannot be used to circumvent license, privilege, or group membership checks.</p>
<h3>Disabling Permissions</h3>
<p>To disable a permission, pass <code>?pd=permission:to:disable</code>. Unlike enabling, any permission may be disabled regardless of its definition. In this case, <code>checkPermission</code> will return <code>{ access: false, reason: &quot;disabled-by-&lt;feature&gt;-flag&quot;, ... }</code>.</p>
      </div>
    </div>
  </div>

      </main>
    </div>

    <footer class="footer">
      
      <div class="panel panel-white">
        <div class="grid-container">
          <div class="column-24">
            <a href="https://github.com/Esri/hub.js" class="font-size--2">Fork this project</a>
          </div>
        </div>
      </div>
    </footer>

    
    <script src="hub.js/js/calcite-web.min.js"></script>

    <script>
       calcite.init()
    </script>

    
  </body>
</html>