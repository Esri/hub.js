<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Catalogs and Collections | Guide | @esri/hub.js</title>
    
    <meta name="description" content="A modular, high quality toolkit for working with ArcGIS Hub">
    
    <link rel="stylesheet" href="https://s3-us-west-1.amazonaws.com/patterns.esri.com/files/calcite-web/1.2.5/css/calcite-web.min.css">
    <link rel="stylesheet" href="/hub.js/css/style.css">
    
  </head>
  <body>
  <!-- Drawer -->
    <div class="drawer drawer-left js-drawer" data-drawer="top-nav" tabindex="0">
      <nav class="drawer-nav" role="navigation">
        <aside class="side-nav">
          <h2 class="side-nav-title">@esri/hub.js</h2>
          <a href="/hub.js/guides/" class="is-active side-nav-link">Guides</a>
          <a href="/hub.js/api/" class="side-nav-link">API Reference</a>
        </aside>
      </nav>
    </div>

    <div id="page" class="wrapper">
      <!-- Sample HTML -->
      <header class="top-nav">
        <div class="grid-container">
          <div class="column-24">
            <!-- desktop sized navigation -->
            <div class="tablet-hide">
              <!-- logo / home -->
              <a href="/hub.js/" class="top-nav-title">@esri/hub.js</a>
              <!-- primary navigation sections -->
              <nav class="top-nav-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/guides/" class="is-active top-nav-link">Guides</a>
                <a href="/hub.js/api/" class="top-nav-link">API Reference</a>
                <a href="https://github.com/Esri/hub.js" class="top-nav-link">GitHub</a>
              </nav>
            </div>

            <!-- tablet and mobile sized navigation -->
            <div class="tablet-show top-nav-flex">
              <!-- open primary navigation drawer -->
              <nav class="top-nav-flex-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/" class="icon-ui-menu top-nav-link js-drawer-toggle" data-drawer="top-nav"><span class="phone-hide">Menu</span></a>
              </nav>
              <!-- logo / home -->
              <header class="top-nav-flex-title">
                <a href="/hub.js/" class="top-nav-link">@esri/hub.js</a>
              </header>
            </div>
          </div>

        </div>
      </header>


      <main id="#skip-to-content">
        
  <div class="grid-container trailer-1 leader-1">
    <div class="column-6">
      <ul class="list-plain">
        
          <li>Get Started</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/get-started/from-a-cdn/">From a CDN</a></li>
            
              <li><a href="/hub.js/guides/get-started/node/">Node.js</a></li>
            
              <li><a href="/hub.js/guides/get-started/using-es6/">Using ES6</a></li>
            
              <li><a href="/hub.js/guides/get-started/whats-new-v2-0/">What's New in v2.0.0</a></li>
            
          </ul>
        
          <li>Concepts</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/concepts/arcgiscontext/">ArcGISContext</a></li>
            
              <li><a href="/hub.js/guides/concepts/hub-entities/">Hub Entities</a></li>
            
              <li><a href="/hub.js/guides/concepts/catalog-collection/" class="is-active">Catalogs & Collections</a></li>
            
              <li><a href="/hub.js/guides/concepts/queries-and-filters/">Queries & Filters</a></li>
            
              <li><a href="/hub.js/guides/concepts/hub-search/">Hub Search</a></li>
            
              <li><a href="/hub.js/guides/concepts/working-with-projects/">Hub Projects</a></li>
            
              <li><a href="/hub.js/guides/concepts/working-with-teams/">Hub Teams</a></li>
            
              <li><a href="/hub.js/guides/concepts/hub-discussions/">Hub Discussions</a></li>
            
          </ul>
        
          <li>Classes</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/concepts/architecture-patterns/">Manager Classes</a></li>
            
          </ul>
        
          <li>Functional Api</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/functional/authentication/">Authentication</a></li>
            
              <li><a href="/hub.js/guides/functional/utilities/">Utilities</a></li>
            
              <li><a href="/hub.js/guides/functional/operation-stack/">OperationStack</a></li>
            
              <li><a href="/hub.js/guides/functional/composing-workflows/">Composing Workflows</a></li>
            
          </ul>
        
          <li>Developers</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/developers/e2e-tests/">E2E Testing</a></li>
            
          </ul>
        
          <li>Legacy</li>
          <ul class="list-plain margin-left-1">
            
              <li><a href="/hub.js/guides/legacy/content-search/">Search Service</a></li>
            
              <li><a href="/hub.js/guides/legacy/sites-and-pages/">Sites and Pages</a></li>
            
          </ul>
        
      </ul>
    </div>

    <div class="column-18">
      <div class="panel">
        <h2>Catalogs and Collections</h2>
<p>A Catalog defines a set of content, which can have futher subsets called Collections. Additional filters can be applied at the Catalog or Collection level.</p>
<p>While a Catalog can reference any platform resource (Items, Users, Groups, Events etc), any Collection can only reference a single platform resource.</p>
<p>Catalogs were designed to be associated with any item, but currently Hub Sites utilize a catalog to define what content is available on a site search. Hub Projects and Hub Initiatives will also have Catalogs.</p>
<p>All the Hub related items will define the catalog in the data.json, in the <code>.catalog</code> property. The exact structure of this configuration will change over time so it's important to either fetch the Site/Project/Initiative via hub.js functions, or use the <code>convertCatalog(..)</code> function to ensure you are working with the latest structure.</p>
<h2>Defining a Catalog</h2>
<p>Catalogs and Collections are defined in a json structure.</p>
<p>The Catalog defines a set of &quot;scopes&quot; for each resource type to be included in the Catalog. Each scope is an <a href="../api/common/IQuery"><code>IQuery</code></a> object.</p>
<pre><code class="json"><span class="hljs-comment">// Example Catalog setting the scope for "item" searches to a specific group</span>
{
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Seventh Street Project"</span>,
  <span class="hljs-attr">"schemaVersion"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"scopes"</span>: {
    <span class="hljs-attr">"item"</span>: {
      <span class="hljs-comment">// IQuery</span>
      <span class="hljs-attr">"targetEntity"</span>: <span class="hljs-string">"item"</span>,
      <span class="hljs-attr">"filters"</span>: [
        {
          <span class="hljs-attr">"predicates"</span>: [
            {
              <span class="hljs-attr">"group"</span>: [<span class="hljs-string">"c4059b70af8d4773910a812f7d712dc8"</span>]
            }
          ]
        }
      ]
    }
  },
  <span class="hljs-attr">"collections"</span>: []
}
</code></pre>
<h2>Adding Collections</h2>
<p>A Collection is a subset of the Catalog. The <code>.scope</code> of a Collection is an <a href="../api/common/IQuery"><code>IQuery</code></a> object.</p>
<pre><code class="json"><span class="hljs-comment">// Example Catalog setting the scope for "item" searches to a specific group</span>
{
  <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Seventh Street Project"</span>,
  <span class="hljs-attr">"schemaVersion"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"scopes"</span>: {
    <span class="hljs-attr">"item"</span>: {
      <span class="hljs-comment">// IQuery</span>
      <span class="hljs-attr">"targetEntity"</span>: <span class="hljs-string">"item"</span>,
      <span class="hljs-attr">"filters"</span>: [
        {
          <span class="hljs-attr">"predicates"</span>: [
            {
              <span class="hljs-attr">"group"</span>: [<span class="hljs-string">"c4059b70af8d4773910a812f7d712dc8"</span>]
            }
          ]
        }
      ]
    }
  },
  <span class="hljs-attr">"collections"</span>: [
    {
      <span class="hljs-attr">"targetEntity"</span>: <span class="hljs-string">"item"</span>,
      <span class="hljs-attr">"key"</span>: <span class="hljs-string">"webmaps"</span>,
      <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Web Maps"</span>,
      <span class="hljs-attr">"scope"</span>: {
        <span class="hljs-attr">"targetEntity"</span>: <span class="hljs-string">"item"</span>,
        <span class="hljs-attr">"filters"</span>: [
          {
            <span class="hljs-attr">"predicates"</span>: [
              {
                <span class="hljs-attr">"type"</span>: {
                  <span class="hljs-attr">"any"</span>: [<span class="hljs-string">"Web Map"</span>],
                  <span class="hljs-attr">"not"</span>: [<span class="hljs-string">"Web Mapping Application"</span>]
                }
              }
            ]
          }
        ]
      }
    }
  ]
}
</code></pre>
<p>At this time, the developer must check for and merge the related catalog scope's filters with the filters defined in the Collection's <code>scope</code> to ensure that the search will execute as expected.</p>
      </div>
    </div>
  </div>

      </main>
    </div>

    <footer class="footer">
      
      <div class="panel panel-white">
        <div class="grid-container">
          <div class="column-24">
            <a href="https://github.com/Esri/hub.js" class="font-size--2">Fork this project</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://s3-us-west-1.amazonaws.com/patterns.esri.com/files/calcite-web/1.2.5/js/calcite-web.min.js"></script>

    <script>
       calcite.init()
    </script>

    
  </body>
</html>