<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="date" content="2024-11-19T21:43:21.867Z">
    <title>Capabilities | @esri/hub.js</title>
    
    <meta name="description" content="A modular, high quality toolkit for working with ArcGIS Hub">
    
    <link rel="stylesheet" href="/hub.js/css/calcite-web.min.css">
    <link rel="stylesheet" href="/hub.js/css/style.css">
    
    
  </head>
  <body>
  <!-- Drawer -->
    <div class="drawer drawer-left js-drawer" data-drawer="top-nav" tabindex="0">
      <nav class="drawer-nav" role="navigation">
        <aside class="side-nav">
          <h2 class="side-nav-title">@esri/hub.js</h2>
          <a href="/hub.js/guides/" class="side-nav-link">Guides</a>
          <a href="/hub.js/api/" class="side-nav-link">API Reference</a>
        </aside>
      </nav>
    </div>

    <div id="page" class="wrapper">
      <!-- Sample HTML -->
      <header class="top-nav">
        <div class="grid-container">
          <div class="column-24">
            <!-- desktop sized navigation -->
            <div class="tablet-hide">
              <!-- logo / home -->
              <a href="/hub.js/" class="top-nav-title">@esri/hub.js</a>
              <!-- primary navigation sections -->
              <nav class="top-nav-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/guides/" class="top-nav-link">Guides</a>
                <a href="/hub.js/api/" class="top-nav-link">API Reference</a>
                <a href="https://github.com/Esri/hub.js" class="top-nav-link">GitHub</a>
              </nav>
            </div>

            <!-- tablet and mobile sized navigation -->
            <div class="tablet-show top-nav-flex">
              <!-- open primary navigation drawer -->
              <nav class="top-nav-flex-list" role="navigation" aria-labelledby="topnav">
                <a href="/hub.js/" class="icon-ui-menu top-nav-link js-drawer-toggle" data-drawer="top-nav"><span class="phone-hide">Menu</span></a>
              </nav>
              <!-- logo / home -->
              <header class="top-nav-flex-title">
                <a href="/hub.js/" class="top-nav-link">@esri/hub.js</a>
              </header>
            </div>
          </div>

        </div>
      </header>


      <main id="#skip-to-content">
        <h2>Capabilities</h2>
<p>A Capability represents a set of functionality (&quot;Events&quot;, &quot;Teams&quot; etc), associated with an Entity. They are referenced by a set of pre-defined strings such as <code>&quot;discussions&quot;, &quot;events&quot;, &quot;teams&quot;</code> etc.</p>
<p>Please see the <code>Capability</code> type definition for the complete set of values.</p>
<p>The ArcGIS Hub business rules define the Capabilities for each entity type, but they can be disabled on a per-entity basis. For example, Premium Hub Sites have the <code>“events”</code> capability enabled by default, but the owner of a specific site can disable Events for that site.</p>
<p>Access to a Capability is determined by checking:</p>
<ul>
<li>if the capability available for the entity</li>
<li>if the capability enabled for the entity</li>
<li>if the current user meets the requirements for a set of Permissions</li>
</ul>
<p>Valid Capabilities are defined in the <a href="https://github.com/Esri/hub.js/blob/master/packages/common/src/capabilities/types.ts"><code>Capability</code> type</a>.</p>
<h3>Checking Capability Access</h3>
<p>Capabilities can be checked directly on an Entity instance via the <code>instance.checkCapability(capability)</code> method. If you don’t have access to an Entity Instance, the <code>checkCapability(capability, context, entity)</code> function is also available.</p>
<p>Both return an <code>ICapabilityAccessResponse</code> . The most important property is <code>.access</code> which is a <code>boolean</code> indicating if the current user has access to the capability. The other properties are for debugging and observability into why the system is returning the <code>.access</code> value, and can be used to display different messages to the user. Please see the <a href="https://github.com/Esri/hub.js/blob/master/packages/common/src/capabilities/types.ts#L56"><code>ICapabilityAccessResponse</code> interface definition</a> for details.</p>
<h3>Defining Capabilities</h3>
<p>The list of Capabilities are defined in the <code>validCapabilities</code> array, and exposed as the <code>Capability</code> type. To add a new Capability, add an entry to this array.</p>
<p>The permissions that will be checked for a Capability are defined in the <code>&lt;EntityType&gt;BusinessRules</code> modules, as <code>ICapabilityPermission</code> objects. This is a simple type which cross-walks the capability to an array of required permissions, as shown below.</p>
<pre><code class="jsx">{
  <span class="hljs-attr">entity</span>: <span class="hljs-string">"site"</span>,
  <span class="hljs-attr">capability</span>: <span class="hljs-string">"details"</span>,
  <span class="hljs-attr">permissions</span>: [<span class="hljs-string">"hub:site:edit"</span>],
},
</code></pre>
<p>The entity property is required so that the system can manage entity-specific definitions for the Capability.</p>
<p>To define the available capabilities for the entity, add an entry to the <code>&lt;EntitType&gt;DefaultCapabilities</code>. Only the capabilities defined in this structure will be available on the Entity. In the example below, we are defining the Capabilities for a Site as being only <code>&quot;overview&quot;, &quot;details&quot; and &quot;settings&quot;</code>. No other capabilities can be set, regardless of what may be stored in the item’s json.</p>
<pre><code class="jsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SiteDefaultCapabilities: EntityCapabilities = {
  <span class="hljs-attr">overview</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">details</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">settings</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>When the entity is loaded, during the property mapping stage, the <code>data.capabilities</code> hash is processed, allowing only the properties defined in the <code>&lt;EntityType&gt;DefaultCapabilities</code> object to be passed through.</p>
      </main>
    </div>

    <footer class="footer">
      
      <div class="panel panel-white">
        <div class="grid-container">
          <div class="column-24">
            <a href="https://github.com/Esri/hub.js" class="font-size--2">Fork this project</a>
          </div>
        </div>
      </div>
    </footer>

    
    <script src="hub.js/js/calcite-web.min.js"></script>

    <script>
       calcite.init()
    </script>

    
  </body>
</html>